!function(e,t,a,n){var s="mPageScroll2id",i="mPS2id",l=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id']",r={scrollSpeed:1300,autoScrollSpeed:!0,scrollEasing:"easeInOutExpo",scrollingEasing:"easeInOutCirc",pageEndSmoothScroll:!0,layout:"vertical",offset:0,highlightSelector:!1,clickedClass:i+"-clicked",targetClass:i+"-target",highlightClass:i+"-highlight",forceSingleHighlight:!1,clickEvents:!0,onStart:function(){},onComplete:function(){},defaultSelector:!1},o,u,c,f,g,h,p,d,I,_,O={init:function(n){var n=e.extend(!0,{},r,n);e(a).data(i,n),u=e(a).data(i),o=o?o+","+this.selector:this.selector,u.defaultSelector&&("object"!=typeof e(o)||0===e(o).length)&&(o=l),u.clickEvents&&e(a).undelegate("."+i).delegate(o,"click."+i,function(t){var a=e(this),n=a.attr("href"),s=a.prop("href");n&&-1!==n.indexOf("#/")||(C._reset.call(null),_=a.data("ps2id-offset")||0,C._isValid.call(null,n,s)&&C._findTarget.call(null,n)&&(t.preventDefault(),f="selector",g=a,C._setClasses.call(null,!0),C._scrollTo.call(null)))}),e(t).unbind("."+i).bind("scroll."+i+" resize."+i,function(){var t=e("._"+i+"-t");t.each(function(){var t=e(this),a=t.attr("id"),n=C._findHighlight.call(null,a);C._setClasses.call(null,!1,t,n)})}),c=!0,C._setup.call(null)},scrollTo:function(t,a){if(t&&"undefined"!=typeof t){C._isInit.call(null);var n={layout:u.layout,offset:u.offset,clicked:!1},a=e.extend(!0,{},n,a);C._reset.call(null),d=a.layout,I=a.offset,t=-1!==t.indexOf("#")?t:"#"+t,C._isValid.call(null,t)&&C._findTarget.call(null,t)&&(f="scrollTo",g=a.clicked,g&&C._setClasses.call(null,!0),C._scrollTo.call(null))}},destroy:function(){e(t).unbind("."+i),e(a).undelegate("."+i).removeData(i),e("."+u.clickedClass).removeClass(u.clickedClass),e("."+u.targetClass).removeClass(u.targetClass),e("."+u.highlightClass).removeClass(u.highlightClass),e("._"+i+"-t").removeData(i).removeClass("_"+i+"-t"),e("._"+i+"-h").removeClass("_"+i+"-h")}},C={_isValid:function(e,a){if(e){a=a?a:e;var n=-1!==a.indexOf("#/")?a.split("#/")[0]:a.split("#")[0],s=t.location.toString().split("#")[0];return"#"!==e&&-1!==e.indexOf("#")&&(""===n||n===s)}},_setup:function(){var t=u.highlightSelector&&""!==u.highlightSelector?u.highlightSelector:o,a=1;return e(t).each(function(){var t=e(this),n=t.attr("href"),s=t.prop("href");if(C._isValid.call(null,n,s)){var l=-1!==n.indexOf("#/")?n.split("#/")[1]:n.split("#")[1],r=e("#"+l);if(r.length>0){r.hasClass("_"+i+"-t")||r.addClass("_"+i+"-t").data(i,{i:a}),t.hasClass("_"+i+"-h")||t.addClass("_"+i+"-h");var o=C._findHighlight.call(null,l);C._setClasses.call(null,!1,r,o),a++}}})},_findTarget:function(t){var a=-1!==t.indexOf("#/")?t.split("#/")[1]:t.split("#")[1],n=e("#"+a);if(n.length<1||"fixed"===n.css("position")){if("top"!==a)return;n=e("body")}return h=n,d||(d=u.layout),I=C._setOffset.call(null),p=[(n.offset().top-I[0]).toString(),(n.offset().left-I[1]).toString()],p[0]=p[0]<0?0:p[0],p[1]=p[1]<0?0:p[1],p},_setOffset:function(){I||(I=u.offset?u.offset:0),_&&(I=_);var t,a,n,s;switch(typeof I){case"object":case"string":t=[I.y?I.y:I,I.x?I.x:I],a=[t[0]instanceof jQuery?t[0]:e(t[0]),t[1]instanceof jQuery?t[1]:e(t[1])],a[0].length>0?(n=a[0].height(),"fixed"===a[0].css("position")&&(n+=a[0][0].offsetTop)):n=!isNaN(parseFloat(t[0]))&&isFinite(t[0])?parseInt(t[0]):0,a[1].length>0?(s=a[1].width(),"fixed"===a[1].css("position")&&(s+=a[1][0].offsetLeft)):s=!isNaN(parseFloat(t[1]))&&isFinite(t[1])?parseInt(t[1]):0;break;case"function":t=I.call(null),t instanceof Array?(n=t[0],s=t[1]):n=s=t;break;default:n=s=parseInt(I)}return[n,s]},_findHighlight:function(a){var n=t.location.toString().split("#")[0],s=e("._"+i+"-h[href='#"+a+"']"),l=e("._"+i+"-h[href='"+n+"#"+a+"']"),r=e("._"+i+"-h[href='#/"+a+"']"),o=e("._"+i+"-h[href='"+n+"#/"+a+"']");return s=s.length>0?s:l,r=r.length>0?r:o,r.length>0?r:s},_setClasses:function(t,a,n){var s=u.clickedClass,i=u.targetClass,l=u.highlightClass;t&&s&&""!==s?(e("."+s).removeClass(s),g.addClass(s)):a&&i&&""!==i&&n&&l&&""!==l&&(C._currentTarget.call(null,a)?(u.forceSingleHighlight&&e("."+l).removeClass(l),a.addClass(i),n.addClass(l)):(a.removeClass(i),n.removeClass(l)))},_currentTarget:function(a){var n=u["target_"+a.data(i).i],s=a[0].getBoundingClientRect();if("undefined"!=typeof n){var l=a.offset().top,r=a.offset().left,o=n.from?n.from+l:l,c=n.to?n.to+l:l,f=n.fromX?n.fromX+r:r,g=n.toX?n.toX+r:r;return s.top>=c&&s.top<=o&&s.left>=g&&s.left<=f}var h=e(t).height(),p=e(t).width(),d=a.height(),I=a.width(),_=1+d/h,O=_,C=h>d?_*(h/d):_,S=1+I/p,v=S,m=p>I?S*(p/I):S;return s.top<=h/O&&s.bottom>=h/C&&s.left<=p/v&&s.right>=p/m},_scrollTo:function(){u.scrollSpeed=parseInt(u.scrollSpeed),p=u.pageEndSmoothScroll?C._pageEndSmoothScroll.call(null):p;var a=e("html,body"),n=u.autoScrollSpeed?C._autoScrollSpeed.call(null):u.scrollSpeed,s=a.is(":animated")?u.scrollingEasing:u.scrollEasing,i=e(t).scrollTop(),l=e(t).scrollLeft();switch(d){case"horizontal":l!=p[1]&&(C._callbacks.call(null,"onStart"),a.stop().animate({scrollLeft:p[1]},n,s).promise().then(function(){C._callbacks.call(null,"onComplete")}));break;case"auto":if(i!=p[0]||l!=p[1])if(C._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var r;a.stop().animate({pageYOffset:p[0],pageXOffset:p[1]},{duration:n,easing:s,step:function(e,a){"pageXOffset"==a.prop?r=e:"pageYOffset"==a.prop&&t.scrollTo(r,e)}}).promise().then(function(){C._callbacks.call(null,"onComplete")})}else a.stop().animate({scrollTop:p[0],scrollLeft:p[1]},n,s).promise().then(function(){C._callbacks.call(null,"onComplete")});break;default:i!=p[0]&&(C._callbacks.call(null,"onStart"),a.stop().animate({scrollTop:p[0]},n,s).promise().then(function(){C._callbacks.call(null,"onComplete")}))}},_pageEndSmoothScroll:function(){var n=e(a).height(),s=e(a).width(),i=e(t).height(),l=e(t).width();return[n-p[0]<i?n-i:p[0],s-p[1]<l?s-l:p[1]]},_autoScrollSpeed:function(){var n=e(t).scrollTop(),s=e(t).scrollLeft(),i=e(a).height(),l=e(a).width(),r=[u.scrollSpeed+u.scrollSpeed*Math.floor(Math.abs(p[0]-n)/i*100)/100,u.scrollSpeed+u.scrollSpeed*Math.floor(Math.abs(p[1]-s)/l*100)/100];return Math.max.apply(Math,r)},_callbacks:function(e){if(u)switch(this[i]={trigger:f,clicked:g,target:h,scrollTo:{y:p[0],x:p[1]}},e){case"onStart":u.onStart.call(null,this[i]);break;case"onComplete":u.onComplete.call(null,this[i])}},_reset:function(){d=I=_=!1},_isInit:function(){c||O.init.apply(this)},_easing:function(){e.easing.easeInQuad=e.easing.easeInQuad||function(e,t,a,n,s){return n*(t/=s)*t+a},e.easing.easeOutQuad=e.easing.easeOutQuad||function(e,t,a,n,s){return-n*(t/=s)*(t-2)+a},e.easing.easeInOutQuad=e.easing.easeInOutQuad||function(e,t,a,n,s){return(t/=s/2)<1?n/2*t*t+a:-n/2*(--t*(t-2)-1)+a},e.easing.easeInCubic=e.easing.easeInCubic||function(e,t,a,n,s){return n*(t/=s)*t*t+a},e.easing.easeOutCubic=e.easing.easeOutCubic||function(e,t,a,n,s){return n*((t=t/s-1)*t*t+1)+a},e.easing.easeInOutCubic=e.easing.easeInOutCubic||function(e,t,a,n,s){return(t/=s/2)<1?n/2*t*t*t+a:n/2*((t-=2)*t*t+2)+a},e.easing.easeInQuart=e.easing.easeInQuart||function(e,t,a,n,s){return n*(t/=s)*t*t*t+a},e.easing.easeOutQuart=e.easing.easeOutQuart||function(e,t,a,n,s){return-n*((t=t/s-1)*t*t*t-1)+a},e.easing.easeInOutQuart=e.easing.easeInOutQuart||function(e,t,a,n,s){return(t/=s/2)<1?n/2*t*t*t*t+a:-n/2*((t-=2)*t*t*t-2)+a},e.easing.easeInQuint=e.easing.easeInQuint||function(e,t,a,n,s){return n*(t/=s)*t*t*t*t+a},e.easing.easeOutQuint=e.easing.easeOutQuint||function(e,t,a,n,s){return n*((t=t/s-1)*t*t*t*t+1)+a},e.easing.easeInOutQuint=e.easing.easeInOutQuint||function(e,t,a,n,s){return(t/=s/2)<1?n/2*t*t*t*t*t+a:n/2*((t-=2)*t*t*t*t+2)+a},e.easing.easeInExpo=e.easing.easeInExpo||function(e,t,a,n,s){return 0==t?a:n*Math.pow(2,10*(t/s-1))+a},e.easing.easeOutExpo=e.easing.easeOutExpo||function(e,t,a,n,s){return t==s?a+n:n*(-Math.pow(2,-10*t/s)+1)+a},e.easing.easeInOutExpo=e.easing.easeInOutExpo||function(e,t,a,n,s){return 0==t?a:t==s?a+n:(t/=s/2)<1?n/2*Math.pow(2,10*(t-1))+a:n/2*(-Math.pow(2,-10*--t)+2)+a},e.easing.easeInSine=e.easing.easeInSine||function(e,t,a,n,s){return-n*Math.cos(t/s*(Math.PI/2))+n+a},e.easing.easeOutSine=e.easing.easeOutSine||function(e,t,a,n,s){return n*Math.sin(t/s*(Math.PI/2))+a},e.easing.easeInOutSine=e.easing.easeInOutSine||function(e,t,a,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+a},e.easing.easeInCirc=e.easing.easeInCirc||function(e,t,a,n,s){return-n*(Math.sqrt(1-(t/=s)*t)-1)+a},e.easing.easeOutCirc=e.easing.easeOutCirc||function(e,t,a,n,s){return n*Math.sqrt(1-(t=t/s-1)*t)+a},e.easing.easeInOutCirc=e.easing.easeInOutCirc||function(e,t,a,n,s){return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+a:n/2*(Math.sqrt(1-(t-=2)*t)+1)+a},e.easing.easeInElastic=e.easing.easeInElastic||function(e,t,a,n,s){var i=1.70158,l=0,r=n;if(0==t)return a;if(1==(t/=s))return a+n;if(l||(l=.3*s),r<Math.abs(n)){r=n;var i=l/4}else var i=l/(2*Math.PI)*Math.asin(n/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*s-i)*Math.PI/l))+a},e.easing.easeOutElastic=e.easing.easeOutElastic||function(e,t,a,n,s){var i=1.70158,l=0,r=n;if(0==t)return a;if(1==(t/=s))return a+n;if(l||(l=.3*s),r<Math.abs(n)){r=n;var i=l/4}else var i=l/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*t)*Math.sin(2*(t*s-i)*Math.PI/l)+n+a},e.easing.easeInOutElastic=e.easing.easeInOutElastic||function(e,t,a,n,s){var i=1.70158,l=0,r=n;if(0==t)return a;if(2==(t/=s/2))return a+n;if(l||(l=.3*s*1.5),r<Math.abs(n)){r=n;var i=l/4}else var i=l/(2*Math.PI)*Math.asin(n/r);return 1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*s-i)*Math.PI/l)+a:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*s-i)*Math.PI/l)*.5+n+a},e.easing.easeInBack=e.easing.easeInBack||function(e,t,a,s,i,l){return l==n&&(l=1.70158),s*(t/=i)*t*((l+1)*t-l)+a},e.easing.easeOutBack=e.easing.easeOutBack||function(e,t,a,s,i,l){return l==n&&(l=1.70158),s*((t=t/i-1)*t*((l+1)*t+l)+1)+a},e.easing.easeInOutBack=e.easing.easeInOutBack||function(e,t,a,s,i,l){return l==n&&(l=1.70158),(t/=i/2)<1?s/2*t*t*(((l*=1.525)+1)*t-l)+a:s/2*((t-=2)*t*(((l*=1.525)+1)*t+l)+2)+a},e.easing.easeInBounce=e.easing.easeInBounce||function(t,a,n,s,i){return s-e.easing.easeOutBounce(t,i-a,0,s,i)+n},e.easing.easeOutBounce=e.easing.easeOutBounce||function(e,t,a,n,s){return(t/=s)<1/2.75?7.5625*n*t*t+a:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+a:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+a:n*(7.5625*(t-=2.625/2.75)*t+.984375)+a},e.easing.easeInOutBounce=e.easing.easeInOutBounce||function(t,a,n,s,i){return i/2>a?.5*e.easing.easeInBounce(t,2*a,0,s,i)+n:.5*e.easing.easeOutBounce(t,2*a-i,0,s,i)+.5*s+n}}};C._easing.call(),e.fn[s]=function(t){return O[t]?O[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):O.init.apply(this,arguments)},e[s]=function(t){return O[t]?O[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):O.init.apply(this,arguments)},e[s].defaults=r}(jQuery,window,document);